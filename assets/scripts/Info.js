!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="assets/scripts/",n(n.s=6)}([function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"n",(function(){return a})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"i",(function(){return v})),n.d(t,"q",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"m",(function(){return _})),n.d(t,"l",(function(){return y})),n.d(t,"p",(function(){return b})),n.d(t,"o",(function(){return w})),n.d(t,"f",(function(){return S}));var i=n(1),o=n(2);function r(e,t){let n=[];return t.forEach(t=>{e.forEach(e=>t.id===e&&n.push(t.name))}),n.join(" / ")}const s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2});function a(){document.querySelector(".section-info__overview-video").addEventListener("click",()=>{document.querySelector(".modal").classList.toggle("active"),document.querySelector(".modal").addEventListener("click",e=>{e.target.closest(".modal_header-exit")&&document.querySelector(".modal").classList.add("active")})})}function c(e,t){sessionStorage.setItem(e,t)}function l(e){let t;return t=1===e?"Female":"Male",t}function d(e,t){document.querySelector("."+e).addEventListener("click",e=>{let n=e.target.closest("."+t).dataset.movieid;n&&(c("cardId",n),location.reload(),this.infoLoad())})}function u(e,t){document.querySelector("."+e).addEventListener("click",e=>{let n=e.target.closest("."+t).dataset.showid;n&&(c("showId",n),location.reload(),this.infoLoad())})}function m(e,t){document.querySelector("."+e).addEventListener("click",e=>{let n=e.target.closest("."+t).dataset.movieid;n&&(c("cardId",n),location.href="info.html")})}function g(e,t){document.querySelector("."+e).addEventListener("click",e=>{let n=e.target.closest("."+t).dataset.showid;console.log(n),n&&(c("showId",n),location.href="showInfo.html")})}function f(e,t){document.querySelector("."+e).addEventListener("click",e=>{let n=e.target.closest("."+t).dataset.actorid;n&&(c("actorId",n),location.href="actor.html")})}function v(){const e=document.getElementById("header__form"),t=document.getElementById("header__form--search");e.addEventListener("submit",e=>{sessionStorage.setItem("mltSearch",""+t.value),sessionStorage.setItem("pagType","mltSearch"),e.preventDefault();(new i.a).multiSearch(t.value).then(e=>{localStorage.setItem("cardArr",JSON.stringify(e)),location.href="search.html"})})}function h(){const e=new o.b,t=new i.a,n=document.querySelector(".toggleBar"),r=document.getElementById("movie-icon"),s=document.getElementById("tv-icon"),a=document.querySelector(".toggleBar__list"),c=document.getElementById("rating-range"),l=document.getElementById("year-range"),d=document.getElementById("rating-val"),u=document.getElementById("year-val"),m=document.getElementById("program");[r,s].forEach(e=>{e.addEventListener("click",e=>{e.target.id?m.textContent=e.target.id.split("-")[0]:e.target.closest(".sidebar__box").id&&(m.textContent=e.target.closest(".sidebar__box").id.split("-")[0])})}),t.genres().then(t=>{t.forEach(t=>{const{id:n,name:i}=t,r=e.renderElement("li","toggleBar__list--item",[new o.a("id",n)]);r.innerHTML=`<a href="#"> <h3 class="heading-3">${i}</h3></a>`,a.insertAdjacentElement("beforeend",r)})}),[c,l].forEach((e,t)=>{e.addEventListener("mousemove",e=>{[d,u][t].textContent=e.target.value})}),[c,l].forEach((e,t)=>{e.addEventListener("change",e=>{[d,u][t].textContent=e.target.value})}),a.addEventListener("click",e=>{e.preventDefault(),e.target.closest("li")&&e.target.closest("li").classList.toggle("listActive")}),n.addEventListener("click",e=>{if("toggleBar__btn"===e.target.className||e.target.closest(".toggleBar__btn")){sessionStorage.setItem("pagType","activeGenres");let e=document.querySelectorAll(".listActive");const n=[...e].map(e=>e.id+"%2C").join(""),i=[...e].map(e=>e.id),[o,r]=[d.textContent,u.textContent];sessionStorage.setItem("activeGenres",JSON.stringify(i)),sessionStorage.setItem("typeName",m.textContent),sessionStorage.setItem("yearRange",r),sessionStorage.setItem("ratingRange",o),t.discoverList(m.textContent,n,r,o).then(e=>{localStorage.setItem("cardArr",JSON.stringify(e)),location.href="search.html"})}})}function p(e){let t;return t=null==e||null==e?"./img/poster-repl.png":" https://image.tmdb.org/t/p/w185/"+e,t}function _(){document.getElementById("movie-icon").addEventListener("click",n),document.getElementById("tv-icon").addEventListener("click",n);const e=document.querySelector(".toggleBar"),t=document.querySelector(".sidebar");function n(){e.classList.toggle("toggleBar__show"),t.classList.toggle("sidebar__active")}}function y(){const e=document.getElementById("top-movie_left"),t=document.getElementById("top-movie_right"),n=document.querySelector(".top-movie__slider"),i=n.querySelectorAll(".top-movie__slider-item");let o=1;n.style.transform=`translateX(${-780*o}px)`,t.addEventListener("click",()=>{o++,n.style.transition="transform 0.4s ease-in-out",n.style.transform=`translateX(${-780*o}px)`}),e.addEventListener("click",()=>{o--,n.style.transition="transform 0.4s ease-in-out",n.style.transform=`translateX(${-780*o}px)`}),n.addEventListener("transitionend",()=>{"lastImg"===i[o].id&&(o=i.length-2,n.style.transition="none",n.style.transform=`translateX(${-780*o}px)`),"firstImg"===i[o].id&&(o=1,n.style.transition="none",n.style.transform=`translateX(${-780*o}px)`)})}function b(e,t){document.querySelector(".section-info__overview-box").addEventListener("click",n=>{if(n.target.closest(".section-info__overview-favourite")){location.reload();let n=sessionStorage.getItem(""+e);if(null===localStorage.getItem(""+t)){const e=[];e.push(n),localStorage.setItem(""+t,JSON.stringify(e))}else{const e=JSON.parse(localStorage.getItem(""+t));e.indexOf(n)>-1?(e.splice(e.indexOf(n),1),localStorage.setItem(""+t,JSON.stringify(e))):(e.push(n),localStorage.setItem(""+t,JSON.stringify(e)))}}})}function w(e,t){const n=sessionStorage.getItem(""+e);let i,o=localStorage.getItem(""+t);return i=null===o?'<use xlink:href="../img/sprite.svg#icon-heart-outlined"></use>':o.indexOf(n)>-1?'<use xlink:href="../img/sprite.svg#icon-heart"></use>':'<use xlink:href="../img/sprite.svg#icon-heart-outlined"></use>',i}function S(e,t,n,o,r){e.style.display=o<2?"none":"inline-block";let s=o-1,a=o,c=o+1;e.innerHTML=' <i class="fas fa-chevron-left"></i> '+s,t.innerHTML=""+a,n.innerHTML=c+' <i class="fas fa-chevron-right"></i> ';const l=sessionStorage.getItem("pagType");let d=document.querySelectorAll(".search-box");const u=new i.a;function m(e){d.forEach(e=>e.remove()),e.forEach(e=>{if(e.title){const{poster_path:t,title:n,release_date:i,vote_average:o,media_type:s,id:a}=e;r(t,n,i,o,s,a)}else{const{poster_path:t,name:n,first_air_date:i,vote_average:o,media_type:s,id:a}=e;r(t,n,i,o,s,a)}})}switch(l){case"genreId":let e=sessionStorage.getItem("genreId");u.searchMovieList(e,a).then(e=>m(e));break;case"mltSearch":let t=sessionStorage.getItem("mltSearch");u.multiSearch(t,a).then(e=>m(e));break;case"activeGenres":let n=JSON.parse(sessionStorage.getItem("activeGenres")).map(e=>e+"%2C").join(""),i=sessionStorage.getItem("yearRange"),o=sessionStorage.getItem("ratingRange"),r=sessionStorage.getItem("typeName");u.discoverList(r,n,i,o,a).then(e=>m(e))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(){this.key="8ce50ea5c815aad1fbc1a2f3c25f14f1"}async toggleBarSearch(e,t,n){let i=await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${this.key}&language=en-US&sort_by=vote_count.desc&include_adult=false&include_video=false&page=1&primary_release_year=${n}&vote_count.lte=${t}&with_genres=${e}&with_original_language=en\n          `);return(await i.json()).results.slice(0,3)}async multiSearch(e,t=1){let n=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${this.key}&language=en-US&query=${e}&page=${t}&include_adult=false`);return(await n.json()).results}async searchTopMovie(){let e=await fetch(`https://api.themoviedb.org/3/movie/popular?api_key=${this.key}&language=en-US&page=1`);return(await e.json()).results.slice(0,3)}async searchMovieList(e,t=1){let n=await fetch(`https://api.themoviedb.org/3/discover/movie?api_key=${this.key}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=${t}&with_genres=${e}&with_original_language=en`);return(await n.json()).results}async searchInfo(e,t){let n=await fetch(` https://api.themoviedb.org/3/${e}/${t}?api_key=${this.key}&language=en-US`);return await n.json()}async trendingWeek(e,t){let n=await fetch(`https://api.themoviedb.org/3/trending/${e}/week?api_key=${this.key}\n          `);return(await n.json()).results.slice(0,t)}async genres(){let e=await fetch(`https://api.themoviedb.org/3/genre/movie/list?api_key=${this.key}&language=en-US`);return(await e.json()).genres}async movieItems(e,t,n){let i,o=await fetch(`https://api.themoviedb.org/3/${e}/${n}/${t}?api_key=${this.key}`),r=await o.json();return"credits"===t&&(i=r.cast),"images"===t&&(i=r.backdrops),("videos"===t||"recommendations"===t)&&(i=r.results),i}async showItems(e,t,n){let i,o=await fetch(`https://api.themoviedb.org/3/${e}/${n}/${t}?api_key=${this.key}`),r=await o.json();return"credits"===t&&(i=r.cast),"images"===t&&(i=r.backdrops),("videos"===t||"recommendations"===t)&&(i=r.results),i}async actorDetails(e){let t=await fetch(`https://api.themoviedb.org/3/person/${e}?api_key=${this.key}&language=en-US`);return await t.json()}async actorCredits(e){let t=await fetch(`https://api.themoviedb.org/3/person/${e}/combined_credits?api_key=${this.key}&language=en-US`);return(await t.json()).cast}async discoverList(e,t,n=!1,i=!1,o=1){let r=await fetch(`https://api.themoviedb.org/3/discover/${e}?api_key=${this.key}&language=en-US&sort_by=vote_count.desc&include_adult=false&include_video=false&page=${o}&year=${n}&vote_count.lte=${i}&with_genres=${t}`);return(await r.json()).results}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));class i{constructor(e,t){this.name=e,this.value=t}}class o{renderElement(e,t,n){const i=document.createElement(e);return t&&(i.className=t),n&&n.length>0&&n.forEach(e=>{i.setAttribute(e.name,e.value)}),i}}},,,,function(e,t,n){"use strict";n.r(t);var i=n(2),o=n(1),r=n(0);class s extends i.b{constructor(){super(),this.hookID=document.getElementById("section-info")}render(e){const t=document.querySelector(".section-info-header"),n=document.querySelector(".section-info__overview"),s=document.querySelector(".section-info__facts"),a=document.querySelector(".section-info__actors-flex"),c=document.querySelector(".section-info__backdrops"),l=document.querySelector(".section-info__trailer"),d=document.querySelector(".section-info__recomendations"),u=document.querySelector(".modal"),m=this.renderElement("div","section-info-header__bckg");m.style.backgroundImage=`\n    linear-gradient(\n        to right bottom,\n        #01d277 10%,\n        rgba(45, 45, 45, 0.73) 75%\n      ),\n    url('https://image.tmdb.org/t/p/w1920_and_h800_multi_faces${e.backdrop_path}')\n    \n    `,t.append(m);const g=this.renderElement("div","section-info__overview-poster"),f=this.renderElement("div","section-info__overview-info");g.innerHTML=`\n    <img src="https://image.tmdb.org/t/p/w300_and_h450_bestv2${e.poster_path}" alt="poster-img"  />\n    `,f.innerHTML=`\n\n      \x3c!--Overview Title--\x3e\n      <div class="section-info__overview-title">\n        ${e.title} <span class="rel-year">(${e.release_date.split("-")[0]})</span>\n      </div>\n      \x3c!--Overview About--\x3e\n      <div class="section-info__overview-about">\n      ${e.release_date} ${e.genres.map(e=>e.name).join("/")} ${e.runtime}min\n      </div>\n      \x3c!--Overview Box: Rating Like Video--\x3e\n      <div class="section-info__overview-box">\n        <div class="section-info__overview-rating">\n          <svg class="section-info__overview-icon">\n            <use xlink:href="../img/sprite.svg#icon-star-empty"></use>\n          </svg>\n\n          <span>${e.vote_average}</span>\n        </div>\n        <div class="section-info__overview-favourite">\n          <svg class="section-info__overview-icon">\n            ${Object(r.o)("cardId","favoriteMovieIds")}\n          </svg>\n        </div>\n        <div class="section-info__overview-video">\n          <i class="fas fa-play"></i>\n          <span>Play video</span>\n        </div>\n      </div>\n      \x3c!--Overview Description--\x3e\n      <div class="section-info__overview-description">\n      ${e.overview}\n      </div>\n      \x3c!--Overview Writers--\x3e\n      <div class="section-info__overview-writer">\n        Production:  ${e.production_companies.map(e=>e.name).join(", ")}\n      </div>\n      `,[g,f].forEach(e=>n.append(e));const v=this.renderElement("div","section-info__facts-status"),h=this.renderElement("div","section-info__facts-lang"),p=this.renderElement("div","section-info__facts-budget"),_=this.renderElement("div","section-info__facts-revenue");v.textContent="Status: "+e.status,h.textContent="Language: "+e.spoken_languages[0].name,p.textContent="Budget: "+r.c.format(e.budget),_.textContent="Revenue: "+r.c.format(e.revenue),[v,h,p,_].forEach(e=>s.appendChild(e));let y=sessionStorage.getItem("cardId");const b=new o.a;b.movieItems("movie","credits",y).then(e=>e.slice(0,8).forEach(e=>{const t=this.renderElement("div","section-info__actors-box",[new i.a("data-actorid",e.id)]);t.innerHTML=`\n       \n        <div class="section-info__actors-box-img">\n          <img src="https://image.tmdb.org/t/p/w185${e.profile_path}" alt="actor-img" />\n        </div>\n        <div class="section-info__actors-box-info">\n          <span class="actors-name">${e.name}</span>\n\n          <span class="actors-character">${e.character}</span>\n        </div>\n      \n        `,a.insertAdjacentElement("beforeend",t)}));const w=this.renderElement("div","section-info__backdrops-gallery");let S="";b.movieItems("movie","images",y).then(e=>{e.slice(0,4).forEach(e=>{S+=` <img src="https://image.tmdb.org/t/p/w780${e.file_path}" alt="bckDrop-img" />`}),w.innerHTML=S,c.insertAdjacentElement("beforeend",w)});const I=this.renderElement("div","section-info__trailer-box");let E="";b.movieItems("movie","videos",y).then(e=>{e.slice(0,2).forEach(e=>{E+=`\n       <iframe\n       type="text/html"\n       width="100%"\n       height="100%"\n       src="//www.youtube.com/embed/${e.key}?autoplay=0&origin=https%3A%2F%2Fwww.themoviedb.org&hl=en&modestbranding=1&fs=1&autohide=1"\n       frameborder="0"\n       allowfullscreen\n     ></iframe>\n       `}),I.innerHTML=E,l.insertAdjacentElement("beforeend",I)});const k=this.renderElement("div","section-info__recomendations-flex");let x="";b.movieItems("movie","recommendations",y).then(e=>{e.slice(0,4).forEach(e=>{x+=`\n        <div class="section-info__recomendations-box" data-movieid=${e.id}>\n        <div class="section-info__recomendations-box-img">\n          <img src="https://image.tmdb.org/t/p/w300${e.backdrop_path}" alt="recomendations-img" />\n        </div>\n        <div class="section-info__recomendations-box-title">\n          <span class="rec-title">${e.title}</span>\n        </div>\n      </div>\n        `}),k.innerHTML=x,d.insertAdjacentElement("beforeend",k)}),b.movieItems("movie","videos",y).then(e=>{let t=e[0];u.innerHTML=`\n      <div class="modal_header">\n      <div class="modal_header-title">Play Trailer</div>\n  \n      <svg class="modal_header-exit">\n        <use xlink:href="../img/sprite.svg#icon-cross"></use>\n      </svg>\n    </div>\n  \n    <div class="modal_content">\n      <iframe\n        type="text/html"\n        width="100%"\n        height="100%"\n        src="//www.youtube.com/embed/${t.key}?autoplay=0&origin=https%3A%2F%2Fwww.themoviedb.org&hl=en&modestbranding=1&fs=1&autohide=1"\n        frameborder="0"\n        allowfullscreen\n      ></iframe>\n    </div>\n      `})}infoLoad(){let e=sessionStorage.getItem("cardId");(new o.a).searchInfo("movie",e).then(e=>{this.render(e),Object(r.p)("cardId","favoriteMovieIds"),Object(r.n)(),Object(r.g)("section-info__recomendations","section-info__recomendations-box"),Object(r.a)("section-info__actors-flex","section-info__actors-box")})}}(new s).infoLoad(),Object(r.m)(),Object(r.q)()}]);
//# sourceMappingURL=Info.js.map